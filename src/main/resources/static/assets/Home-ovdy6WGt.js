import{a as u}from"./cartService-BBktlKoz.js";import{_,c as p,u as g,a as h,b as c,o as n,d as s,n as b,t as o,h as f,r as w,F as v,e as x,f as y}from"./index-DeZ7kwkT.js";const $={class:"card shadow-sm"},S=["aria-label"],I={class:"card-body"},P={class:"card-text"},N={class:"me-2"},k={class:"discount badge bg-danger"},C={class:"d-flex justify-content-between align-items-center"},B={class:"price text-muted"},L={class:"real text-danger"},D={__name:"Card",props:{item:{id:Number,imgPath:String,name:String,price:Number,discountPer:Number}},setup(a){const t=a,i=p(()=>(t.item.price-t.item.price*t.item.discountPer/100).toLocaleString()),e=g(),r=h(),l=async()=>{if(!r.loggedIn){window.confirm("로그인이 필요합니다. 로그인 페이지로 이동하시겠습니까?")&&await e.push("/login");return}(await u(t.item.id)).status===200&&window.confirm("장바구니에 상품을 담았습니다. 장바구니로 이동하시겠습니까?")&&await e.push("/cart")};return(m,d)=>(n(),c("div",$,[s("span",{class:"img",style:b({backgroundImage:`url(${t.item.imgPath})`}),"aria-label":`상품 사진(${t.item.name})`},null,12,S),s("div",I,[s("p",P,[s("span",N,o(t.item.name),1),s("span",k,o(t.item.discountPer)+"%",1)]),s("div",C,[s("button",{class:"btn btn-primary btn-sm",onClick:d[0]||(d[0]=E=>l())}," 장바구니 담기 "),s("small",B,o(t.item.price.toLocaleString())+"원",1),s("small",L,o(i.value),1)])])]))}},F=_(D,[["__scopeId","data-v-3d5c2647"]]),R=()=>f.get("/v1/api/items").catch(a=>a.response),V={class:"home"},j={class:"album py-5 bg-light"},q={class:"container"},z={class:"row row-cols-1 row-cols-lg-2 row-cols-xl-3 g-3"},A={class:"col"},J={__name:"Home",setup(a){const t=w({items:[]});return async function(){const e=await R();e.status===200&&(t.items=e.data)}(),(i,e)=>(n(),c("div",V,[s("div",j,[s("div",q,[s("div",z,[(n(!0),c(v,null,x(t.items,r=>(n(),c("div",A,[y(F,{item:r},null,8,["item"])]))),256))])])])]))}};export{J as default};
